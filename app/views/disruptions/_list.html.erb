<% if @disruptions.any? %>
  <div class="table-responsive">
    <table class="table table-condensed table-disruptions">
      <thead>
        <tr>
          <td>Преподаватель / Дисциплина</td>
          <td>Дата</td>
          <td>Объяснительная зав.кафедры</td>
          <td>Объяснительная преподавателя</td>
          <td>Уважительная причина</td>
        </tr>
      </thead>
      <tbody>
        <% @disruptions.each do |teacher, realizes| %>
          <tr class="teacher">
            <td colspan="3"><%= teacher.to_s %></td>
        <% realizes.each do |realize| %>
          <tr class="lesson">
            <td>
              <%= realize.lesson.discipline.title %>
              <%= " (#{realize.lesson.kind_abbr})" %>
            </td>
            <td><%= I18n.l(realize.lesson.date_on) %></td>
            <% if realize.subdepartment_declaration.present? %>
              <td class="declaration truncated btn-link js-popover" data-container="body" data-toggle="popover" data-placement="bottom" data-content="<%= realize.subdepartment_declaration.reason %>">
                <%= realize.subdepartment_declaration.reason %>
              </td>

            <% else %>
              <td>Нет</td>
            <% end %>

            <% if realize.lecturer_declaration.present? %>
              <td class="declaration truncated btn-link js-popover" data-container="body" data-toggle="popover" data-placement="bottom" data-content="<%= realize.lecturer_declaration.reason %>">
                <%= realize.lecturer_declaration.reason %>
              </td>
            <% else %>
              <td>Нет</td>
            <% end %>
            <td class="status">
              <% if realize.unfilled? %>
                -
              <% elsif realize.approved %>
                Да
              <% else %>
                Нет
              <% end %>
            </td>
            </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <%= I18n.t("empty.#{controller_name}") %>
<% end %>
